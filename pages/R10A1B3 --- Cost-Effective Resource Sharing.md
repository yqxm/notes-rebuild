- #+BEGIN_PINNED
  Peterson, L. L., & Davie, B. S. (2022). Computer networks: a systems approach (6th ed.). Morgan Kaufmann.c1.2.3
  #+END_PINNED
- 一个网络中的任意两个主机都可以通过一系列的链路(*link*)和节点(*node*)来传递信息。但我们想要的不仅仅是让两个host通信，而是网络里的所要主机都可以互相通信。那么这些host如何共享网络来通信呢？特别是它们想要同时通信的时候，或者更极端一点的，几个host如何依靠同一条链路同时进行通信呢？
- ## Multiplexing
	- 使用“多路复用”的技术可以让多个host进行link的共享。
		- ![../_images/f01-05-9780123850591.png](https://book.systemsapproach.org/_images/f01-05-9780123850591.png){:height 262, :width 461}
		- S1-S3的数据流通过Switch1 multiplexed到一条link上，并在Switch2 上 demultiplexed到3个目标数据流。
	- ### Synchronous time-division multiplexing(STDM)
		- 将时间分割成相等大小的quanta，并通过循环的方式给每个数据流在链路上发送数据的机会。
	- ### Frequency-division multiplexing(FDM)
		- 通过不同的频率在链路上发送数据，有点像电视台一句不同的频率通过电缆或者无线电波发送电视信号。
	- ### STDM和FDM的缺点
		- 如果其中又一个数据流没有数据可发，那它占用的资源就被闲置了。在STDM中表现为它占用的固定的一段时间，在FDM中表现为它占用的一个频率。
		- STDM和FDM都必须提前知道最多有多少数据流，因为在运行中STDM不能调整quantum的大小或者添加quanta，FDM不能添加新的频率。
- ## Statistial multiplexing
	- 统计复用的和时分复用相似的地方是链路也是通过时间来共享的，一条数据流的一部分数据发送完后，然后发送另一条数据流的数据。和时分复用不同的是，数据是按需发送的，而不是设置一个固定的时间发送数据。
	- 统计复用通过限制了每一个数据流在给定时间内传输的数据量来保证每一个数据流都有机会发送数据。这个限定大小的数据块被称为“包(*packet*)”。
	- 因为packet-switched network限制了发送的包的大小，所以host在一次传输中可能不能发送完整的消息。发送者可能需要将消息切分成几个包，接收者需要重新将这几个包组合成原来的消息。
	- ![../_images/f01-06-9780123850591.png](https://book.systemsapproach.org/_images/f01-06-9780123850591.png){:height 428, :width 657}
	-
	- 如果只有一条数据流发送数据包，那它的数据包会一个紧挨着一个。如果有多条数据流，那么这些数据包会交错在一起。
	- 有多种不同的方式决定哪个数据包会被发送。交换器是其中的一种。
		- 每个交换器独立的决定哪个包会被发送，有可能是先进先出的机制，也有可能是循环制。循环制需要确定这些流可以占用一定的带宽或者这些流的包不会被交换器延迟超过一定的时间发送。网络中试图为特定的流申请带宽叫作*quality of servie(QoS)*
	- 因为有多条流使用同一条链路，所以有可能接收的包超过了链路的容量，这时候交换器会强制将这些数据包缓存起来。如果接收数据包的速度超过了发送数据包的速度一段时间，交换器的缓存可能不够使用，这时一些数据包会被丢掉，这种状态叫作“拥塞(*congested*)”
- #+BEGIN_TIP
  统计复用细粒度地将网络中的资源共享给多个用户。这个粒度的单位是“包(*packet*)”。分配链路容量给不同的流和解决拥塞是统计复用的关键挑战。
  #+END_TIP
-